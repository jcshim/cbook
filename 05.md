```
22. Snake 게임 기획: 뱀은 어떻게 움직일까?

이번에는 두 번째 프로젝트인 **Snake 게임**을 만들어 볼 거예요.  
화면 속 뱀이 음식을 먹고 점점 길어지며, 벽이나 자기 몸에 부딪히면 게임이 끝나요.

Snake 게임은 다음 단계로 만들어 볼 거예요:

1. 뱀의 머리를 만든다  
2. 키보드로 방향을 바꾼다  
3. 먹이를 만들고, 먹었을 때 몸이 자란다  
4. 벽이나 몸에 닿으면 게임이 끝난다  
5. 점수를 표시하고, 최고 점수를 기록한다

그럼 한 단계씩 따라가 볼까요?


23. 뱀의 머리 만들기

우선 뱀의 머리 하나만 만들어서 화면에 표시해 봐요.

🔍 예시:

```c
#include "raylib.h"

int main() {
    InitWindow(800, 600, "Snake 시작하기");
    SetTargetFPS(10); // 속도 조절

    int snakeX = 400;
    int snakeY = 300;
    int boxSize = 20;

    while (!WindowShouldClose()) {
        BeginDrawing();
        ClearBackground(BLACK);

        DrawRectangle(snakeX, snakeY, boxSize, boxSize, GREEN);

        EndDrawing();
    }

    CloseWindow();
    return 0;
}
```

🎯 미션!
- 색깔을 바꿔보기
- 위치를 바꿔보기


24. 키보드로 방향 전환하기

이제 키보드로 뱀을 움직이게 해 볼 거예요!

🔍 예시:

```c
#include "raylib.h"

int main() {
    InitWindow(800, 600, "Snake 움직이기");
    SetTargetFPS(10);

    int x = 400, y = 300;
    int size = 20;
    int dx = size, dy = 0;

    while (!WindowShouldClose()) {
        // 방향 바꾸기
        if (IsKeyPressed(KEY_RIGHT)) { dx = size; dy = 0; }
        if (IsKeyPressed(KEY_LEFT))  { dx = -size; dy = 0; }
        if (IsKeyPressed(KEY_UP))    { dx = 0; dy = -size; }
        if (IsKeyPressed(KEY_DOWN))  { dx = 0; dy = size; }

        x += dx;
        y += dy;

        BeginDrawing();
        ClearBackground(BLACK);
        DrawRectangle(x, y, size, size, GREEN);
        EndDrawing();
    }

    CloseWindow();
    return 0;
}
```

🎯 미션!
- 뱀이 화면을 벗어나면 다시 가운데로 오게 만들기
- 속도를 바꿔 보기


25. 먹이 만들기와 먹었을 때 자라기

먹이를 만들고, 뱀이 먹으면 몸이 자라는 기능을 넣어 볼 거예요.

🔍 예시 (머리 + 몸 일부):

```c
#include "raylib.h"

#define MAX_LENGTH 100

int main() {
    InitWindow(800, 600, "Snake 먹이 먹기");
    SetTargetFPS(10);

    int size = 20;
    int length = 1;
    Vector2 snake[MAX_LENGTH];
    snake[0] = (Vector2){400, 300};

    int dx = size, dy = 0;

    Vector2 food = (Vector2){200, 200};

    while (!WindowShouldClose()) {
        // 방향 입력
        if (IsKeyPressed(KEY_RIGHT)) { dx = size; dy = 0; }
        if (IsKeyPressed(KEY_LEFT))  { dx = -size; dy = 0; }
        if (IsKeyPressed(KEY_UP))    { dx = 0; dy = -size; }
        if (IsKeyPressed(KEY_DOWN))  { dx = 0; dy = size; }

        // 몸 이동
        for (int i = length; i > 0; i--) {
            snake[i] = snake[i - 1];
        }

        // 머리 이동
        snake[0].x += dx;
        snake[0].y += dy;

        // 먹이 먹었는지 확인
        if ((int)snake[0].x == (int)food.x && (int)snake[0].y == (int)food.y) {
            length++;
            food.x = (GetRandomValue(0, 39) * size);
            food.y = (GetRandomValue(0, 29) * size);
        }

        BeginDrawing();
        ClearBackground(BLACK);

        // 뱀 그리기
        for (int i = 0; i < length; i++) {
            DrawRectangleV(snake[i], (Vector2){size, size}, GREEN);
        }

        // 먹이 그리기
        DrawRectangleV(food, (Vector2){size, size}, RED);

        EndDrawing();
    }

    CloseWindow();
    return 0;
}
```

🎯 미션!
- 먹이 위치를 랜덤하게 생성해 보기
- 먹을 때마다 색깔이 바뀌게 해보기


26. 벽이나 자기 몸에 닿으면 게임 오버

이제 뱀이 벽이나 자기 몸에 부딪히면 게임이 끝나도록 해볼게요.

💡 힌트:
- 벽 충돌: `x < 0 || x >= 800 || y < 0 || y >= 600`
- 몸 충돌: `snake[0]`이 다른 몸 조각과 같은 위치인지 확인

🔍 예시 추가 (충돌 검사 포함):

```c
// ... (이전 코드 이어서)
bool gameOver = false;

while (!WindowShouldClose() && !gameOver) {
    // ... (기존 이동 코드)

    // 벽 충돌
    if (snake[0].x < 0 || snake[0].x >= 800 ||
        snake[0].y < 0 || snake[0].y >= 600) {
        gameOver = true;
    }

    // 몸 충돌
    for (int i = 1; i < length; i++) {
        if ((int)snake[0].x == (int)snake[i].x &&
            (int)snake[0].y == (int)snake[i].y) {
            gameOver = true;
        }
    }

    // ... (Draw 코드)
}
```

🎯 미션!
- 게임 오버 메시지 출력해 보기
- 다시 시작하는 기능 추가해 보기


27. 점수 출력과 최고 점수 기록하기

먹은 개수만큼 점수를 올려 보자!

🔍 예시 코드 추가:

```c
int score = 0;
int best = 0;

// 먹었을 때
score++;
if (score > best) best = score;

// Draw 안에 추가:
DrawText(TextFormat("Score: %d", score), 20, 20, 20, YELLOW);
DrawText(TextFormat("Best: %d", best), 20, 50, 20, ORANGE);
```

🎯 미션!
- 점수에 따라 배경 색 바꾸기
- 50점 달성 시 “전설의 뱀!” 메시지 띄우기

```
